<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>College Map</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css"/>
  <style>
    #map {
      height: 100vh;
      width: 100%;
      border-radius: 12px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.15);
    }

    /* Tooltip styling */
    .leaflet-popup-content {
      font-size: 14px;
      font-weight: 500;
      color: #333;
    }
  </style>
</head>
<body>
  <div id="map"></div>

  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
  <script>
    // Initialize map centered on US
    const map = L.map('map').setView([39.8283, -98.5795], 4);

    // Restrict map bounds to USA
    const usaBounds = [
      [24.396308, -125.0], // Southwest corner
      [49.384358, -66.93457] // Northeast corner
    ];
    map.setMaxBounds(usaBounds);
    map.on("drag", function () {
      map.panInsideBounds(usaBounds, { animate: false });
    });

    // Light modern tile style
    L.tileLayer('https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png', {
      attribution: '&copy; <a href="https://www.openstreetmap.org/">OSM</a> contributors &copy; <a href="https://carto.com/">CARTO</a>',
      subdomains: 'abcd',
      maxZoom: 19
    }).addTo(map);

    // College locations
    const colleges = [
      { name: "Xavier University", coords: [39.149, -84.474] },
      { name: "Columbia University", coords: [40.8075, -73.9626] },
      { name: "Northern Virginia Community College", coords: [38.834, -77.236] },
      { name: "Alabama A&M University", coords: [34.783, -86.568] },
      { name: "Lafayette College", coords: [40.7006, -75.2107] },
      { name: "San Jose Community College", coords: [37.3037, -121.8610] },
      { name: "Grambling State University", coords: [32.5285, -92.7133] },
      { name: "University of Louisiana at Monroe", coords: [32.5322, -92.0665] },
      { name: "University of Texas at Arlington", coords: [32.729, -97.114] },
      { name: "San Diego Mesa College", coords: [32.8153, -117.1683] },
      { name: "University of Massachusetts Amherst", coords: [42.3868, -72.5301] },
      { name: "The School of the Art Institute of Chicago", coords: [41.8796, -87.6237] },
      { name: "Stanford University", coords: [37.4275, -122.1697] },
      { name: "Washington and Lee University", coords: [37.7904, -79.4444] },
      { name: "Pennsylvania State University", coords: [40.7982, -77.8599] },
      { name: "George Washington University", coords: [38.8997, -77.0486] },
      { name: "Olin College of Engineering", coords: [42.2995, -71.2637] },
      { name: "Franklin & Marshall College", coords: [40.047, -76.319] },
      { name: "Angelo State University", coords: [31.442, -100.461] },
      { name: "Cornell University", coords: [42.4534, -76.4735] },
      { name: "Champlain College", coords: [44.4759, -73.1978] }
    ];

    // Custom blue pin icon
    const bluePin = L.icon({
      iconUrl: "https://cdn.jsdelivr.net/gh/pointhi/leaflet-color-markers@master/img/marker-icon-blue.png",
      shadowUrl: "https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-shadow.png",
      iconSize: [25, 41],
      iconAnchor: [12, 41],
      popupAnchor: [1, -34],
      shadowSize: [41, 41]
    });

    // Add pins with popup on hover
    colleges.forEach(college => {
      const marker = L.marker(college.coords, { icon: bluePin }).addTo(map);
      marker.bindPopup(college.name);

      // Open popup on hover, close on mouseout
      marker.on("mouseover", function () { this.openPopup(); });
      marker.on("mouseout", function () { this.closePopup(); });
    });
  </script>
</body>
</html>
