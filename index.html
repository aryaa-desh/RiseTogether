<script>
  // Initialize map centered on US
  const map = L.map('map').setView([39.8283, -98.5795], 4);

  // Restrict map bounds to USA
  const usaBounds = [
    [24.396308, -125.0],
    [49.384358, -66.93457]
  ];
  map.setMaxBounds(usaBounds);
  map.on("drag", function () {
    map.panInsideBounds(usaBounds, { animate: false });
  });

  // Light modern tile style
  L.tileLayer('https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png', {
    attribution: '&copy; <a href="https://www.openstreetmap.org/">OSM</a> contributors &copy; <a href="https://carto.com/">CARTO</a>',
    subdomains: 'abcd',
    maxZoom: 19
  }).addTo(map);

  // College locations (your existing list)
  const colleges = [
    { name: "Xavier University", coords: [39.149, -84.474] },
    { name: "Columbia University", coords: [40.8075, -73.9626] },
    { name: "Northern Virginia Community College", coords: [38.834, -77.236] },
    { name: "Alabama A&M University", coords: [34.783, -86.568] },
    { name: "Lafayette College", coords: [40.7006, -75.2107] },
    { name: "San Jose Community College", coords: [37.3037, -121.8610] },
    { name: "Grambling State University", coords: [32.5285, -92.7133] },
    { name: "University of Louisiana at Monroe", coords: [32.5322, -92.0665] },
    { name: "University of Texas at Arlington", coords: [32.729, -97.114] },
    { name: "San Diego Mesa College", coords: [32.8153, -117.1683] },
    { name: "University of Massachusetts Amherst", coords: [42.3868, -72.5301] },
    { name: "The School of the Art Institute of Chicago", coords: [41.8796, -87.6237] },
    { name: "Stanford University", coords: [37.4275, -122.1697] },
    { name: "Washington and Lee University", coords: [37.7904, -79.4444] },
    { name: "Pennsylvania State University", coords: [40.7982, -77.8599] },
    { name: "George Washington University", coords: [38.8997, -77.0486] },
    { name: "Olin College of Engineering", coords: [42.2995, -71.2637] },
    { name: "Franklin & Marshall College", coords: [40.047, -76.319] },
    { name: "Angelo State University", coords: [31.442, -100.461] },
    { name: "Cornell University", coords: [42.4534, -76.4735] },
    { name: "Champlain College", coords: [44.4759, -73.1978] }
  ];

  // Custom blue pin icon
  const bluePin = L.icon({
    iconUrl: "https://cdn.jsdelivr.net/gh/pointhi/leaflet-color-markers@master/img/marker-icon-blue.png",
    shadowUrl: "https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-shadow.png",
    iconSize: [25, 41],
    iconAnchor: [12, 41],
    popupAnchor: [1, -34],
    shadowSize: [41, 41]
  });

  // Add your existing pins with popups
  colleges.forEach(college => {
    const marker = L.marker(college.coords, { icon: bluePin }).addTo(map);
    marker.bindPopup(college.name);
    marker.on("mouseover", function () { this.openPopup(); });
    marker.on("mouseout", function () { this.closePopup(); });
  });

  // Extra pins â€” one or two per requested region (no popups)
  const extraPins = [
    // East Coast south of Virginia
    [35.9132, -79.0558], // Chapel Hill, NC
    [33.998, -81.035],   // Columbia, SC
    [33.9526, -83.3774], // Athens, GA
    [29.6516, -82.3248], // Gainesville, FL

    // North Dakota
    [47.9229, -97.0700], // Grand Forks, ND

    // Washington State
    [47.6553, -122.3035], // Seattle, WA
    [46.7319, -117.1543], // Pullman, WA

    // Ohio
    [40.0017, -83.0197], // Columbus, OH
    [41.504, -81.608]    // Cleveland, OH
  ];

  // Add the extra pins without popups
  extraPins.forEach(coords => {
    L.marker(coords, { icon: bluePin }).addTo(map);
  });
</script>
